{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{useRelationship}from'../../context/RelationshipContext';import HelixAnimation from'./HelixAnimation';import RetroButton from'../UI/RetroButton';import CRTEffect from'../UI/CRTEffect';import'../../styles/retro.css';/**\n * Dashboard Component\n * \n * Pagina principală a aplicației care conține animația helixului\n * și controalele pentru gestionarea relației.\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user,logout}=useAuth();const{relationship,fetchRelationship,generateInviteCode}=useRelationship();const[inviteCode,setInviteCode]=useState('');const[codeCopied,setCodeCopied]=useState(false);const navigate=useNavigate();// Obține informații despre relația utilizatorului\nuseEffect(()=>{if(user&&user.id){fetchRelationship();}},[user,fetchRelationship]);// Generează un cod nou de invitație\nconst handleGenerateCode=async()=>{const code=await generateInviteCode();setInviteCode(code);setCodeCopied(false);};// Copiază codul de invitație în clipboard\nconst handleCopyCode=()=>{if(inviteCode){navigator.clipboard.writeText(inviteCode).then(()=>{setCodeCopied(true);setTimeout(()=>setCodeCopied(false),3000);}).catch(err=>console.error('Eroare la copiere:',err));}};// Navighează către pagina de partener\nconst handleAddPartner=()=>{navigate('/invite-code');};// Navighează către pagina de setări relație\nconst handleRelationshipSettings=()=>{navigate('/relationship-settings');};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container retro-bg\",children:[/*#__PURE__*/_jsx(CRTEffect,{}),/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"retro-text neon-glow\",children:\"RETRO SYNTH RELATIONSHIP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-controls\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"retro-text\",children:[\"Bine ai venit, \",(user===null||user===void 0?void 0:user.username)||'Utilizator']}),/*#__PURE__*/_jsx(RetroButton,{onClick:logout,size:\"small\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsx(HelixAnimation,{}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-controls\",children:!relationship||!relationship.id?/*#__PURE__*/_jsxs(\"div\",{className:\"no-relationship-controls\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"retro-text\",children:\"Nicio rela\\u021Bie activ\\u0103\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"invite-controls\",children:[/*#__PURE__*/_jsx(RetroButton,{onClick:handleGenerateCode,children:\"Genereaz\\u0103 Cod de Invita\\u021Bie\"}),inviteCode&&/*#__PURE__*/_jsxs(\"div\",{className:\"invite-code-display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"code-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"retro-text invite-code\",children:inviteCode}),/*#__PURE__*/_jsx(RetroButton,{onClick:handleCopyCode,size:\"small\",children:codeCopied?'Copiat!':'Copiază'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"retro-text\",children:\"Trimite acest cod partenerului t\\u0103u pentru a v\\u0103 conecta\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"separator\",children:\"sau\"}),/*#__PURE__*/_jsx(RetroButton,{onClick:handleAddPartner,children:\"Introdu Cod Partener\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"relationship-controls\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"retro-text\",children:[\"Conectat cu \",relationship.partnerName||'Partener']}),/*#__PURE__*/_jsx(\"div\",{className:\"days-counter\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"retro-text\",children:[relationship.daysSinceStart,relationship.daysSinceStart===1?' zi':' zile',\" \\xEEmpreun\\u0103\"]})}),/*#__PURE__*/_jsx(RetroButton,{onClick:handleRelationshipSettings,children:\"Set\\u0103ri Rela\\u021Bie\"})]})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"dashboard-footer\",children:/*#__PURE__*/_jsx(\"p\",{className:\"retro-text\",children:\"\\xA9 2025 RETRO SYNTH RELATIONSHIP\"})})]});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useAuth","useRelationship","HelixAnimation","RetroButton","CRTEffect","jsx","_jsx","jsxs","_jsxs","Dashboard","user","logout","relationship","fetchRelationship","generateInviteCode","inviteCode","setInviteCode","codeCopied","setCodeCopied","navigate","id","handleGenerateCode","code","handleCopyCode","navigator","clipboard","writeText","then","setTimeout","catch","err","console","error","handleAddPartner","handleRelationshipSettings","className","children","username","onClick","size","partnerName","daysSinceStart"],"sources":["/home/statship/relationship-helix-frontend/src/components/Dashboard/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport { useRelationship } from '../../context/RelationshipContext';\nimport HelixAnimation from './HelixAnimation';\nimport RetroButton from '../UI/RetroButton';\nimport CRTEffect from '../UI/CRTEffect';\nimport '../../styles/retro.css';\n\n/**\n * Dashboard Component\n * \n * Pagina principală a aplicației care conține animația helixului\n * și controalele pentru gestionarea relației.\n */\nconst Dashboard = () => {\n  const { user, logout } = useAuth();\n  const { relationship, fetchRelationship, generateInviteCode } = useRelationship();\n  const [inviteCode, setInviteCode] = useState('');\n  const [codeCopied, setCodeCopied] = useState(false);\n  const navigate = useNavigate();\n  \n  // Obține informații despre relația utilizatorului\n  useEffect(() => {\n    if (user && user.id) {\n      fetchRelationship();\n    }\n  }, [user, fetchRelationship]);\n  \n  // Generează un cod nou de invitație\n  const handleGenerateCode = async () => {\n    const code = await generateInviteCode();\n    setInviteCode(code);\n    setCodeCopied(false);\n  };\n  \n  // Copiază codul de invitație în clipboard\n  const handleCopyCode = () => {\n    if (inviteCode) {\n      navigator.clipboard.writeText(inviteCode)\n        .then(() => {\n          setCodeCopied(true);\n          setTimeout(() => setCodeCopied(false), 3000);\n        })\n        .catch(err => console.error('Eroare la copiere:', err));\n    }\n  };\n  \n  // Navighează către pagina de partener\n  const handleAddPartner = () => {\n    navigate('/invite-code');\n  };\n  \n  // Navighează către pagina de setări relație\n  const handleRelationshipSettings = () => {\n    navigate('/relationship-settings');\n  };\n\n  return (\n    <div className=\"dashboard-container retro-bg\">\n      <CRTEffect />\n      \n      <header className=\"dashboard-header\">\n        <h1 className=\"retro-text neon-glow\">RETRO SYNTH RELATIONSHIP</h1>\n        <div className=\"user-controls\">\n          <span className=\"retro-text\">Bine ai venit, {user?.username || 'Utilizator'}</span>\n          <RetroButton onClick={logout} size=\"small\">Logout</RetroButton>\n        </div>\n      </header>\n      \n      <main className=\"dashboard-content\">\n        <HelixAnimation />\n        \n        <div className=\"dashboard-controls\">\n          {!relationship || !relationship.id ? (\n            <div className=\"no-relationship-controls\">\n              <h2 className=\"retro-text\">Nicio relație activă</h2>\n              <div className=\"invite-controls\">\n                <RetroButton onClick={handleGenerateCode}>Generează Cod de Invitație</RetroButton>\n                \n                {inviteCode && (\n                  <div className=\"invite-code-display\">\n                    <div className=\"code-container\">\n                      <span className=\"retro-text invite-code\">{inviteCode}</span>\n                      <RetroButton \n                        onClick={handleCopyCode} \n                        size=\"small\"\n                      >\n                        {codeCopied ? 'Copiat!' : 'Copiază'}\n                      </RetroButton>\n                    </div>\n                    <p className=\"retro-text\">Trimite acest cod partenerului tău pentru a vă conecta</p>\n                  </div>\n                )}\n                \n                <div className=\"separator\">sau</div>\n                \n                <RetroButton onClick={handleAddPartner}>\n                  Introdu Cod Partener\n                </RetroButton>\n              </div>\n            </div>\n          ) : (\n            <div className=\"relationship-controls\">\n              <h2 className=\"retro-text\">\n                Conectat cu {relationship.partnerName || 'Partener'}\n              </h2>\n              <div className=\"days-counter\">\n                <span className=\"retro-text\">\n                  {relationship.daysSinceStart} \n                  {relationship.daysSinceStart === 1 ? ' zi' : ' zile'} împreună\n                </span>\n              </div>\n              <RetroButton onClick={handleRelationshipSettings}>\n                Setări Relație\n              </RetroButton>\n            </div>\n          )}\n        </div>\n      </main>\n      \n      <footer className=\"dashboard-footer\">\n        <p className=\"retro-text\">© 2025 RETRO SYNTH RELATIONSHIP</p>\n      </footer>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}