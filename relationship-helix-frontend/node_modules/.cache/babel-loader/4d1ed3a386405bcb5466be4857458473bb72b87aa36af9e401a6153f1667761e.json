{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useRelationship}from'../../context/RelationshipContext';import RetroButton from'../UI/RetroButton';import CRTEffect from'../UI/CRTEffect';import'../../styles/retro.css';/**\n * RelationshipSettings Component\n * \n * Pagina pentru gestionarea setărilor relației\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RelationshipSettings=()=>{const{relationship,deleteRelationship,fetchRelationship}=useRelationship();const[confirmDelete,setConfirmDelete]=useState(false);const[loading,setLoading]=useState(false);const navigate=useNavigate();// Obține informații despre relația curentă\nuseEffect(()=>{fetchRelationship();},[fetchRelationship]);// Gestionează ștergerea relației\nconst handleDeleteRelationship=async()=>{if(!confirmDelete){return setConfirmDelete(true);}setLoading(true);try{await deleteRelationship();navigate('/dashboard');}catch(err){console.error('Eroare la ștergerea relației:',err);}finally{setLoading(false);setConfirmDelete(false);}};// Anulează ștergerea\nconst handleCancelDelete=()=>{setConfirmDelete(false);};// Navighează înapoi la dashboard\nconst handleBack=()=>{navigate('/dashboard');};// Dacă nu există o relație, redirecționăm la dashboard\nif(!relationship||!relationship.id){return/*#__PURE__*/_jsxs(\"div\",{className:\"relationship-settings-container retro-bg\",children:[/*#__PURE__*/_jsx(CRTEffect,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"relationship-settings-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"retro-text\",children:\"Nicio rela\\u021Bie activ\\u0103\"}),/*#__PURE__*/_jsx(RetroButton,{onClick:handleBack,children:\"\\xCEnapoi la Dashboard\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"relationship-settings-container retro-bg\",children:[/*#__PURE__*/_jsx(CRTEffect,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"relationship-settings-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relationship-settings-header\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"retro-text neon-glow\",children:\"SET\\u0102RI RELA\\u021AIE\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relationship-settings-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relationship-info\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"retro-text\",children:[\"Rela\\u021Bia cu \",relationship.partnerName||'Partener']}),/*#__PURE__*/_jsxs(\"p\",{className:\"retro-text\",children:[\"Conecta\\u021Bi de \",relationship.daysSinceStart,relationship.daysSinceStart===1?' zi':' zile']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relationship-actions\",children:!confirmDelete?/*#__PURE__*/_jsx(RetroButton,{onClick:handleDeleteRelationship,variant:\"danger\",children:\"\\xCEncheie Rela\\u021Bia\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"confirm-delete\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"retro-text warning\",children:\"E\\u0219ti sigur c\\u0103 vrei s\\u0103 \\xEEnchei aceast\\u0103 rela\\u021Bie?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirm-actions\",children:[/*#__PURE__*/_jsx(RetroButton,{onClick:handleCancelDelete,variant:\"secondary\",children:\"Anuleaz\\u0103\"}),/*#__PURE__*/_jsx(RetroButton,{onClick:handleDeleteRelationship,variant:\"danger\",disabled:loading,children:loading?'Se procesează...':'Confirmă Încheierea'})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relationship-settings-footer\",children:/*#__PURE__*/_jsx(RetroButton,{onClick:handleBack,variant:\"secondary\",children:\"\\xCEnapoi la Dashboard\"})})]})]});};export default RelationshipSettings;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useRelationship","RetroButton","CRTEffect","jsx","_jsx","jsxs","_jsxs","RelationshipSettings","relationship","deleteRelationship","fetchRelationship","confirmDelete","setConfirmDelete","loading","setLoading","navigate","handleDeleteRelationship","err","console","error","handleCancelDelete","handleBack","id","className","children","onClick","partnerName","daysSinceStart","variant","disabled"],"sources":["/home/statship/relationship-helix-frontend/src/components/Relationship/RelationshipSettings.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useRelationship } from '../../context/RelationshipContext';\nimport RetroButton from '../UI/RetroButton';\nimport CRTEffect from '../UI/CRTEffect';\nimport '../../styles/retro.css';\n\n/**\n * RelationshipSettings Component\n * \n * Pagina pentru gestionarea setărilor relației\n */\nconst RelationshipSettings = () => {\n  const { relationship, deleteRelationship, fetchRelationship } = useRelationship();\n  const [confirmDelete, setConfirmDelete] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  \n  // Obține informații despre relația curentă\n  useEffect(() => {\n    fetchRelationship();\n  }, [fetchRelationship]);\n  \n  // Gestionează ștergerea relației\n  const handleDeleteRelationship = async () => {\n    if (!confirmDelete) {\n      return setConfirmDelete(true);\n    }\n    \n    setLoading(true);\n    \n    try {\n      await deleteRelationship();\n      navigate('/dashboard');\n    } catch (err) {\n      console.error('Eroare la ștergerea relației:', err);\n    } finally {\n      setLoading(false);\n      setConfirmDelete(false);\n    }\n  };\n  \n  // Anulează ștergerea\n  const handleCancelDelete = () => {\n    setConfirmDelete(false);\n  };\n  \n  // Navighează înapoi la dashboard\n  const handleBack = () => {\n    navigate('/dashboard');\n  };\n\n  // Dacă nu există o relație, redirecționăm la dashboard\n  if (!relationship || !relationship.id) {\n    return (\n      <div className=\"relationship-settings-container retro-bg\">\n        <CRTEffect />\n        <div className=\"relationship-settings-card\">\n          <h2 className=\"retro-text\">Nicio relație activă</h2>\n          <RetroButton onClick={handleBack}>\n            Înapoi la Dashboard\n          </RetroButton>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relationship-settings-container retro-bg\">\n      <CRTEffect />\n      \n      <div className=\"relationship-settings-card\">\n        <div className=\"relationship-settings-header\">\n          <h1 className=\"retro-text neon-glow\">SETĂRI RELAȚIE</h1>\n        </div>\n        \n        <div className=\"relationship-settings-content\">\n          <div className=\"relationship-info\">\n            <h2 className=\"retro-text\">\n              Relația cu {relationship.partnerName || 'Partener'}\n            </h2>\n            <p className=\"retro-text\">\n              Conectați de {relationship.daysSinceStart} \n              {relationship.daysSinceStart === 1 ? ' zi' : ' zile'}\n            </p>\n          </div>\n          \n          <div className=\"relationship-actions\">\n            {!confirmDelete ? (\n              <RetroButton \n                onClick={handleDeleteRelationship}\n                variant=\"danger\"\n              >\n                Încheie Relația\n              </RetroButton>\n            ) : (\n              <div className=\"confirm-delete\">\n                <p className=\"retro-text warning\">Ești sigur că vrei să închei această relație?</p>\n                <div className=\"confirm-actions\">\n                  <RetroButton \n                    onClick={handleCancelDelete}\n                    variant=\"secondary\"\n                  >\n                    Anulează\n                  </RetroButton>\n                  <RetroButton \n                    onClick={handleDeleteRelationship}\n                    variant=\"danger\"\n                    disabled={loading}\n                  >\n                    {loading ? 'Se procesează...' : 'Confirmă Încheierea'}\n                  </RetroButton>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"relationship-settings-footer\">\n          <RetroButton onClick={handleBack} variant=\"secondary\">\n            Înapoi la Dashboard\n          </RetroButton>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RelationshipSettings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}